{
    "$schema": "https://schema.management.azure.com/schemas/0.1.2-preview/CreateUIDefinition.MultiVm.json#",
    "handler": "Microsoft.Azure.CreateUIDef",
    "version": "0.1.2-preview",
    "parameters": {
        "basics": [
            {
                "name": "orgName",
                "type": "Microsoft.Common.TextBox",
                "label": "Organization Name",
                "toolTip": "The name of your organization",
                "constraints": {
                    "required": true,
                    "regex": "^[a-zA-Z üÜöÖäÄß]{1,100}",
                    "validationMessage": "Please type in the name of your Organization."
                }
            },
            {
                "name": "license",
                "type": "Microsoft.Common.TextBox",
                "label": "License Key",
                "toolTip": "If you have purchased a license key for SCEPman Enterprise Edition, you can paste it here. In case no license key is provided, SCEPman Community Edition will be deployed.",
                "constraints": {
                    "required": false,
                    "regex": "^(|{?[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}}?|([a-zA-Z0-9+/]{4}){14,}(|[a-zA-Z0-9+/]{2}==|[a-zA-Z0-9+/]{3}=))$",
                    "validationMessage": "If you have purchased a license key for SCEPman Enterprise Edition, you can paste it here. In case no license key is provided, SCEPman Community Edition will be deployed."
                }
            },
            {
                "name": "licenseInfo",
                "type": "Microsoft.Common.InfoBox",
                "visible": true,
                "options": {
                    "icon": "Info",
                    "text": "If you have purchased a license key for SCEPman Enterprise Edition, please enter it in the \"License Key\" field above. In case no license key is provided, SCEPman Community Edition will be deployed.\nYou can upgrade an existing SCEPman Community Edition deployment to the Enterprise Edition anytime by updating your license key. No re-deployment is required.",
                    "uri": "https://docs.scepman.com/editions"
                }
            },
            {
                "name": "updateChannel",
                "type": "Microsoft.Common.DropDown",
                "visible": true,
                "label": "Update Channel",
                "defaultValue": "Production Channel",
                "toolTip": "Select the update channel for your SCEPman instance. You can switch between channels and manual updates of SCEPman instances after installation as well.",
                "constraints": {
                    "allowedValues": [
                        {
                            "label": "Production Channel",
                            "description": "Use the latest stable version of SCEPman (recommended)",
                            "value": "prod"
                        },
                        {
                            "label": "Beta Channel",
                            "description": "Use the upcoming production release of SCEPman",
                            "value": "beta"
                        },
                        {
                            "label": "Internal Channel",
                            "description": "Use the SCEPman version currently under development (most features, but expect bugs)",
                            "value": "internal"
                        }
                    ],
                    "required": true
                }
            }            
        ],
        "steps": [
        ],
        "outputs": {
            "OrgName": "[basics('orgName')]",
            "license": "[basics('license')]",
            "updateChannel": "[basics('updateChannel')]",
            "location": "[location()]"
        }
    }
}